{% extends "library/base.html" %}

{% block title %}æœ¬ã®ä¸€è¦§{% endblock %}

{% block content %}
    <h1 class="mb-4">æœ¬ã®ä¸€è¦§</h1>
    
    <form method="get" class="mb-3">
        <div class="input-group">
            <label class="input-group-text" for="search">ğŸ”</label>
            <input id="search" type="text" name="q" placeholder="ã‚¿ã‚¤ãƒˆãƒ«ã§æ¤œç´¢" value="{{ query }}" class="form-control">
            <button type="submit" class="btn btn-primary">æ¤œç´¢</button>
        </div>
    </form>

    <p class="mb-2">ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼š
        <a href="?filter=all" class="{% if filter_status == 'all' %}fw-bold{% endif %}">ã™ã¹ã¦</a> |
        <a href="?filter=read" class="{% if filter_status == 'read' %}fw-bold{% endif %}">èª­äº†æ¸ˆã¿</a> |
        <a href="?filter=unread" class="{% if filter_status == 'unread' %}fw-bold{% endif %}">æœªèª­</a>
    </p>

    <div class = "mb-3">
        <a href="{% url 'add_book' %}" class="btn btn-success">ï¼‹ æœ¬ã‚’è¿½åŠ </a>
    </div>

    <ul class="list-group">
        {% for book in books %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <strong>{{ book.title }}</strong> - {{ book.author }}
                    {% if book.is_read %}
                        <span class="badge bg-success">èª­äº†æ¸ˆã¿</span>
                    {% else %}
                        <span class="badge bg-secondary">æœªèª­</span>
                    {% endif %}
                </div>
                <div class = "d-flex flex-column flex-sm-row gap-1">
                    <a href="{% url 'toggle_read' book.id %}" class="btn btn-outline-secondary btn-sm">çŠ¶æ…‹åˆ‡æ›¿</a>
                    <a href="{% url 'edit_book' book.id %}" class="btn btn-outline-primary btn-sm">ç·¨é›†</a>
                    <a href="{% url 'delete_book' book.id %}" class="btn btn-outline-danger btn-sm">å‰Šé™¤ç¢ºèª</a>
                </div>
            </li>
        {% empty %}
            <li class="list-group-item">æœ¬ãŒç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</li>
        {% endfor %}
    </ul>
{% endblock %}

